{% extends "layout.html" %}
{% block body %}
<script type=text/javascript src="{{ url_for('static', filename='jquery.flot.js') }}"></script>
<script type=text/javascript>
  $(function () { updatePlot(); });

  function updatePlot() {
    $.getJSON($SCRIPT_ROOT + '/_getdata', {
          "hwid": "{{ hwid }}"}
          , function(result) {

          var plots = []
          var datastreams = result.data.datastreams
          $.plot($("#plot"), datastreams, {xaxis: { mode: "time"}} );

          


  
          //var len = result.data.length;
          //var dataarray = [];
          //for(var i=0; i<len; i++)
          //{
          //  dataarray[i] = [];
          //  dataarray[i][0] = result.data[i][0]*1000;
          //  dataarray[i][1] = result.data[i][1];
          //}
          //$.plot($("#plot"), [{data: dataarray}], { xaxis: { mode: "time" } });
  
        });
  
    // Update once per second
    setTimeout("updatePlot()", 1000);
  }


</script>

<h1>Device : {{ hwid }} </h1>
<div id="plot" style="width:600px;height:300px;"></div>

{% endblock %}

